---
name: CI with Maven      # Name of the workflow
on:                 # Define the event that triggers the workflow
  push:             # Trigger the workflow on push events
    branches:
      - main        # Trigger the workflow on push to the main branch

Jobs:                # Define the jobs for the workflow
  build:          # Define a job named "build"
    
      - name: "maven"               # Name of the job
        runs-on: ubuntu-latest      # Use the latest Ubuntu runner
        steps:                           # Define the steps of the job
          - uses: actions/checkout@v2     # Check out the repository from GitHub
          - name: Set up JDK 11           # Step to set up JDK 11
            uses: actions/setup-java@v2      # Set up JDK 11 for Maven
            with:                                   # Specify the Java version and distribution
              java-version: '11'
              distribution: 'adopt'       # Use AdoptOpenJDK distribution #correto is java-version: '11' from amazon corretto
          - name: Build with Maven        # Build the project using Maven
            run: mvn -B package --file pom.xml    # -B is for non-interactive mode   
jobs:                # Define the jobs for the workflow 
  build:          # Define a job named "build"
    
      - name: "maven"               # Name of the job
        runs-on: ubuntu-latest      # Use the latest Ubuntu runner
        steps:                           # Define the steps of the job
          - uses: actions/checkout@v2     # Check out the repository from GitHub
          - name: Set up JDK 21           # Step to set up JDK 21
            uses: actions/setup-java@v2      # Set up JDK 21 for Maven
            with:                                   # Specify the Java version and distribution
              java-version: '21'
              distribution: 'corretto'       # Use AdoptOpenJDK distribution #correto is java-version: '11' from amazon corretto
          - name: Build with Maven        # Build the project using Maven
            run: mvn -B package --file pom.xml    # -B is for non-interactive mode   

  